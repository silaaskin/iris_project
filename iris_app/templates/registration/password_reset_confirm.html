{% extends 'iris_app/base.html' %}

{% block title %}Yeni Åifre Belirle{% endblock %}

{% block content %}
<div class="auth-card" style="margin: 50px auto; max-width: 500px;">
    <div class="auth-header">
        <h1>ğŸ”‘ Yeni Åifre</h1>
        <p>LÃ¼tfen yeni ÅŸifrenizi aÅŸaÄŸÄ±ya giriniz.</p>
    </div>

    <div class="auth-body">
        {% if validlink %}
            <form method="post">
                {% csrf_token %}
                
                {% for field in form %}
                    <div class="form-group" style="margin-bottom: 20px;">
                        <label style="display: block; margin-bottom: 8px; font-weight: 600; color: #1e3a8a;">{{ field.label }}</label>
                        {{ field }} {% if field.help_text %}
                            <small style="color: #6b7280; font-size: 0.85rem; display: block; margin-top: 5px;">{{ field.help_text }}</small>
                        {% endif %}
                        
                        {% for error in field.errors %}
                            <div style="color: #ef4444; font-size: 0.85rem; margin-top: 5px;">{{ error }}</div>
                        {% endfor %}
                    </div>
                {% endfor %}

                <button type="submit" class="btn btn-success" style="width: 100%; background: linear-gradient(135deg, #10b981 0%, #059669 100%); color: white; padding: 12px; border-radius: 8px; border: none; font-weight: 600; margin-top: 10px; cursor: pointer;">Åifreyi DeÄŸiÅŸtir</button>
            </form>
        {% else %}
            <div class="div-danger">
                <p>Åifre sÄ±fÄ±rlama baÄŸlantÄ±sÄ± geÃ§ersiz veya sÃ¼resi dolmuÅŸ.</p>
                <p><a href="{% url 'password_reset' %}">Yeni bir sÄ±fÄ±rlama isteÄŸi gÃ¶nderin.</a></p>
            </div>
        {% endif %}
    </div>
</div>

<script>
    // Django form inputlarÄ±na stil eklemek iÃ§in kÃ¼Ã§Ã¼k bir script
    document.querySelectorAll('input').forEach(input => {
        input.style.width = '100%';
        input.style.padding = '12px';
        input.style.border = '2px solid #e5e7eb';
        input.style.borderRadius = '8px';
        input.style.marginBottom = '5px';
    });
</script>
{% endblock %}