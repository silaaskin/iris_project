<!-- iris_detail.html -->
{% extends 'iris_app/base.html' %}
{% load static %}

{% block title %}Iris DetayÄ± - YÃ¶netim Sistemi{% endblock %}

{% block content %}

<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
    <h1>ğŸ“‹ Iris Ã–rneÄŸi DetaylarÄ±</h1>
    {% if can_edit %}
        <div class="btn-group">
            <a href="{% url 'iris_update' plant.pk %}" class="btn btn-info">âœï¸ DÃ¼zenle</a>
            <a href="{% url 'iris_delete' plant.pk %}" class="btn btn-danger">ğŸ—‘ï¸ Sil</a>
        </div>
    {% endif %}
</div>

<div class="card">
    <div class="card-body">
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 30px; margin: 20px 0;">
            
            <!-- ============= TÃœR BÄ°LGÄ°SÄ° ============= -->
            <div class="div-section">
                <h3>ğŸŒ¿ TÃ¼r Bilgisi</h3>
                <table>
                    <tr>
                        <td style="font-weight: bold;">TÃ¼r AdÄ±:</td>
                        <td>{{ plant.get_species_display }}</td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold;">TÃ¼r Kodu:</td>
                        <td><code>{{ plant.species }}</code></td>
                    </tr>
                </table>
            </div>

            <!-- ============= Ã–LÃ‡ÃœMLER ============= -->
            <div class="div-section">
                <h3>ğŸ“ Fiziksel Ã–lÃ§Ã¼mler (cm)</h3>
                <table>
                    <tr>
                        <td style="font-weight: bold;">Sepal UzunluÄŸu:</td>
                        <td><strong>{{ plant.sepal_length }}</strong> cm</td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold;">Sepal GeniÅŸliÄŸi:</td>
                        <td><strong>{{ plant.sepal_width }}</strong> cm</td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold;">Petal UzunluÄŸu:</td>
                        <td><strong>{{ plant.petal_length }}</strong> cm</td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold;">Petal GeniÅŸliÄŸi:</td>
                        <td><strong>{{ plant.petal_width }}</strong> cm</td>
                    </tr>
                </table>
            </div>

            <!-- ============= LABORATUVAr BÄ°LGÄ°SÄ° ============= -->
            <div class="div-section">
                <h3>ğŸ¢ Laboratuvar Bilgisi</h3>
                {% if plant.lab %}
                    <table>
                        <tr>
                            <td style="font-weight: bold;">Laboratuvar:</td>
                            <td>{{ plant.lab.name }}</td>
                        </tr>
                        <tr>
                            <td style="font-weight: bold;">Åehir:</td>
                            <td>{{ plant.lab.city }}</td>
                        </tr>
                        <tr>
                            <td style="font-weight: bold;">Telefon:</td>
                            <td>{{ plant.lab.phone|default:"N/A" }}</td>
                        </tr>
                    </table>
                {% else %}
                    <p style="color: #999;">Laboratuvar bilgisi bulunmamaktadÄ±r.</p>
                {% endif %}
            </div>

            <!-- ============= SISTEM BÄ°LGÄ°LERÄ° ============= -->
            <div class="div-section">
                <h3>âš™ï¸ Sistem Bilgileri</h3>
                <table>
                    <tr>
                        <td style="font-weight: bold;">OluÅŸturan:</td>
                        <td>{{ plant.created_by.get_full_name|default:plant.created_by.username }}</td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold;">OluÅŸturulma:</td>
                        <td>{{ plant.created_at|date:"d/m/Y H:i" }}</td>
                    </tr>
                    <tr>
                        <td style="font-weight: bold;">Son GÃ¼ncelleme:</td>
                        <td>{{ plant.updated_at|date:"d/m/Y H:i" }}</td>
                    </tr>
                </table>
            </div>

        </div>
    </div>

    <div class="card-footer">
        <a href="{% url 'iris_list' %}" class="btn">â¬…ï¸ Listeye DÃ¶n</a>
        {% if can_edit %}
            <a href="{% url 'iris_update' plant.pk %}" class="btn btn-info">âœï¸ DÃ¼zenle</a>
        {% endif %}
    </div>
</div>

<!-- ============= BENZEr Ã–RNEKLEr ============= -->
<div class="div-section" style="margin-top: 30px;">
    <h2>ğŸ”„ Benzer Iris Ã–rnekleri</h2>
    {% with similar=plant|dictsort:"petal_length" %}
        <p>Bu tÃ¼r ile ilgili diÄŸer Ã¶rnekleri gÃ¶rmek iÃ§in <a href="{% url 'iris_search' %}?species={{ plant.species }}">arama</a> yapabilirsiniz.</p>
    {% endwith %}
</div>

{% endblock %}